<div class="modal modal-table" data-modal="modal-table">
  <button type="button" class="modal-table__close-btn">
    <svg class="modal-table__close-icon js-modal-close">
      <use href="./images/icon/symbol-defs.svg#icon-close-modal"></use>
    </svg>
  </button>

  <div class="modal-table__wrap">
    <h2 class="modal-table__title">Book a table</h2>

    <form class="modal-table__form table-form" autocomplete="off">
      <div class="table-form__wrap">
        <label class="table-form__field">
          <span class="table-form__thumb">
            <input
              class="table-form__input"
              placeholder="Your name"
              name="name"
              type="text"
              required
              autocomplete="off"
              pattern="^[a-zA-Zа-яА-Я]+"
              minlength="3"
            />
            <span class="table-form__desc">Who should book a table for?</span>
          </span>
        </label>

        <label class="table-form__field">
          <span class="table-form__thumb">
            <svg class="table-form__choice-icon">
              <use href="./images/icon/symbol-defs.svg#icon-choice"></use>
            </svg>
            <input
              class="table-form__input"
              name="number"
              type="text"
              required
              placeholder="Number of people"
              maxlength="2"
              pattern="[0-9]"
            />
          </span>
        </label>

        <label class="table-form__field">
          <span class="table-form__thumb">
            <svg class="table-form__choice-icon">
              <use href="./images/icon/symbol-defs.svg#icon-choice"></use>
            </svg>
            <input
              class="table-form__input"
              name="date"
              type="text"
              required
              placeholder="Today"
            />
            <span class="table-form__desc">What date to book?</span>
          </span>
        </label>

        <label class="table-form__field">
          <span class="table-form__thumb">
            <!-- <span class="table-form__lable">+ 38 () </span> -->
            <input
              class="table-form__input"
              name="phone"
              type="tel"
              required
              placeholder="+38 ()"
              pattern="[0-9]{3}-[0-9]{7}"
            />
            <span class="table-form__desc">Phone number</span>
          </span>
        </label>
      </div>

      <button class="table-form__submit-btn" type="submit">
        Make a reservation
      </button>
    </form>
  </div>
</div>

<!-- Подложка под модальным окном -->
<div class="overlay js-overlay-modal"></div>

<script>
  !(function (e) {
    'function' != typeof e.matches &&
      (e.matches =
        e.msMatchesSelector ||
        e.mozMatchesSelector ||
        e.webkitMatchesSelector ||
        function (e) {
          for (
            var t = this,
              o = (t.document || t.ownerDocument).querySelectorAll(e),
              n = 0;
            o[n] && o[n] !== t;

          )
            ++n;
          return Boolean(o[n]);
        }),
      'function' != typeof e.closest &&
        (e.closest = function (e) {
          for (var t = this; t && 1 === t.nodeType; ) {
            if (t.matches(e)) return t;
            t = t.parentNode;
          }
          return null;
        });
  })(window.Element.prototype);

  document.addEventListener('DOMContentLoaded', function () {
    /* Записываем в переменные массив элементов-кнопок и подложку.
      Подложке зададим id, чтобы не влиять на другие элементы с классом overlay*/
    var modalButtons = document.querySelectorAll('.js-open-modal'),
      overlay = document.querySelector('.js-overlay-modal'),
      closeButtons = document.querySelectorAll('.js-modal-close');

    /* Перебираем массив кнопок */
    modalButtons.forEach(function (item) {
      /* Назначаем каждой кнопке обработчик клика */
      item.addEventListener('click', function (e) {
        /* Предотвращаем стандартное действие элемента. Так как кнопку разные
            люди могут сделать по-разному. Кто-то сделает ссылку, кто-то кнопку.
            Нужно подстраховаться. */
        e.preventDefault();

        /* При каждом клике на кнопку мы будем забирать содержимое атрибута data-modal
            и будем искать модальное окно с таким же атрибутом. */
        var modalId = this.getAttribute('data-modal'),
          modalElem = document.querySelector(
            '.modal[data-modal="' + modalId + '"]'
          );

        /* После того как нашли нужное модальное окно, добавим классы
            подложке и окну чтобы показать их. */
        modalElem.classList.add('active');
        overlay.classList.add('active');
      }); // end click
    }); // end foreach

    closeButtons.forEach(function (item) {
      item.addEventListener('click', function (e) {
        var parentModal = this.closest('.modal');

        parentModal.classList.remove('active');
        overlay.classList.remove('active');
      });
    }); // end foreach

    document.body.addEventListener(
      'keyup',
      function (e) {
        var key = e.keyCode;

        if (key == 27) {
          document.querySelector('.modal.active').classList.remove('active');
          document.querySelector('.overlay').classList.remove('active');
        }
      },
      false
    );

    overlay.addEventListener('click', function () {
      document.querySelector('.modal.active').classList.remove('active');
      this.classList.remove('active');
    });
  }); // end ready
</script>

<script>
  document.getElementById('e').value = new Date()
    .toISOString()
    .substring(0, 10);
</script>
